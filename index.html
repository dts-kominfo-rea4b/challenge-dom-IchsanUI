<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <title>Challenge - DOM</title>
  </head>
  <body>
    <div id="app" class="container">
      <div class="title">
      <header id="todo-title"></header>

      <div id="todo-subtitle"></div>
      </div>
      <section class="input">
        <input type="text" id="todo-input" />
        <button id="todo-submit">Submit</button>
      </section>

      <section class="output">
        <ul id="todo-output"></ul>
      </section>
    </div>
  </body>
  <!-- ! Untuk tantangan ini, script jangan diubah ke external js yah ! -->
  <script>
    let button;
    let input;
    let output;
    let li;

    const title_t = document.querySelector('#todo-title');
    title_t.innerHTML = 'To-do-List';
    const title_s = document.querySelector('#todo-subtitle');
    title_s.innerHTML = 'Today I Need To';

    function fnClickHandler(toDoItem) {
      li = document.createElement('li');
      li.textContent = toDoItem;
      li.className = 'todo-output-list';
      return li;
    }

    const btn_input = document.querySelector('input');
    const btn_todo_submit = document.querySelector('#todo-submit');

    btn_todo_submit.addEventListener('click', () => {
      var newItem = [];
      const isi = btn_input.value;
      newItem.push(isi);

      const items = newItem.map((toDoItem) => {
        return fnClickHandler(toDoItem);
      });

      const newItemsList = document.querySelector('ul');
      newItemsList.append(...items);
    });

    btn_input.addEventListener('keypress', (event) => {
      if (event.key === "Enter") {
        var newItem = [];
        const isi = btn_input.value;
        newItem.push(isi);

        const items = newItem.map((toDoItem) => {
          return fnClickHandler(toDoItem);
        });

        const newItemsList = document.querySelector('ul');
        newItemsList.append(...items);
      }
    });
  </script>
</html>
